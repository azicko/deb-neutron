Description: A configuration that should work by default
Author: Thomas Goirand <zigo@debian.org>
Forwarded: not-needed
Last-Update: 2013-07-28

--- neutron-2013.2~b2.orig/etc/neutron.conf
+++ neutron-2013.2~b2/etc/neutron.conf
@@ -46,6 +46,7 @@ bind_port = 9696
 
 # Quantum plugin provider module
 # core_plugin =
+core_plugin = neutron.plugins.openvswitch.ovs_neutron_plugin.OVSNeutronPluginV2
 
 # Advanced service modules
 # service_plugins =
@@ -301,6 +302,7 @@ notification_topics = notifications
 # root filter facility.
 # Change to "sudo" to skip the filtering and just run the comand directly
 # root_helper = sudo
+root_helper = sudo neutron-rootwrap /etc/neutron/rootwrap.conf
 
 # =========== items for agent management extension =============
 # seconds between nodes reporting state to server, should be less than
--- neutron-2013.2~b2.orig/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini
+++ neutron-2013.2~b2/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini
@@ -1,3 +1,6 @@
+[database]
+connection = sqlite:///var/lib/neutron/neutronplugovsdb
+
 [ovs]
 # (StrOpt) Type of network to allocate for tenant networks. The
 # default value 'local' is useful only for single-box testing and
@@ -7,9 +10,9 @@
 # tenant networks to provide connectivity between hosts. Set to 'none'
 # to disable creation of tenant networks.
 #
-# tenant_network_type = local
 # Example: tenant_network_type = gre
 # Example: tenant_network_type = vxlan
+tenant_network_type = gre
 
 # (ListOpt) Comma-separated list of
 # <physical_network>[:<vlan_min>:<vlan_max>] tuples enumerating ranges
@@ -29,23 +32,22 @@
 # WARNING: This option will be deprecated in the Icehouse release, at which
 #          point setting tunnel_type below will be required to enable
 #          tunneling.
-#
-# enable_tunneling = False
+enable_tunneling = True
 
 # (StrOpt) The type of tunnel network, if any, supported by the plugin. If
 # this is set, it will cause tunneling to be enabled. If this is not set and
 # the option enable_tunneling is set, this will default to 'gre'.
 #
-# tunnel_type =
 # Example: tunnel_type = gre
 # Example: tunnel_type = vxlan
+tunnel_type = gre
 
 # (ListOpt) Comma-separated list of <tun_min>:<tun_max> tuples
 # enumerating ranges of GRE or VXLAN tunnel IDs that are available for
 # tenant network allocation if tenant_network_type is 'gre' or 'vxlan'.
 #
-# tunnel_id_ranges =
 # Example: tunnel_id_ranges = 1:1000
+tunnel_id_ranges 1:1000
 
 # Do not change this parameter unless you have a good reason to.
 # This is the name of the OVS integration bridge. There is one per hypervisor.
@@ -70,7 +72,7 @@
 # empty for the server. Set local-ip to be the local IP address of
 # this hypervisor.
 #
-# local_ip =
+#local_ip = 192.168.2.99
 
 # (ListOpt) Comma-separated list of <physical_network>:<bridge> tuples
 # mapping physical network names to the agent's node-specific OVS
